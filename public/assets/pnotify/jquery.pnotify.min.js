!function(a){var b,c,d,h,i,j,k,l,e=a(window),f={jqueryui:{container:"ui-widget ui-widget-content ui-corner-all",notice:"ui-state-highlight",notice_icon:"ui-icon ui-icon-info",info:"",info_icon:"ui-icon ui-icon-info",success:"ui-state-default",success_icon:"ui-icon ui-icon-circle-check",error:"ui-state-error",error_icon:"ui-icon ui-icon-alert",closer:"ui-icon ui-icon-close",pin_up:"ui-icon ui-icon-pin-w",pin_down:"ui-icon ui-icon-pin-s",hi_menu:"ui-state-default ui-corner-bottom",hi_btn:"ui-state-default ui-corner-all",hi_btnhov:"ui-state-hover",hi_hnd:"ui-icon ui-icon-grip-dotted-horizontal"},bootstrap:{container:"alert",notice:"",notice_icon:"icon-exclamation-sign",info:"alert-info",info_icon:"icon-info-sign",success:"alert-success",success_icon:"icon-ok-sign",error:"alert-error",error_icon:"icon-warning-sign",closer:"icon-remove",pin_up:"icon-pause",pin_down:"icon-play",hi_menu:"well",hi_btn:"btn",hi_btnhov:"",hi_hnd:"icon-chevron-down"}},g=function(){d=a("body"),e=a(window),e.bind("resize",function(){c&&clearTimeout(c),c=setTimeout(a.pnotify_position_all,10)})};document.body?g():a(g),a.extend({pnotify_remove_all:function(){var b=e.data("pnotify");b&&b.length&&a.each(b,function(){this.pnotify_remove&&this.pnotify_remove()})},pnotify_position_all:function(){c&&clearTimeout(c),c=null;var b=e.data("pnotify");b&&b.length&&(a.each(b,function(){var a=this.opts.stack;a&&(a.nextpos1=a.firstpos1,a.nextpos2=a.firstpos2,a.addpos2=0,a.animation=!0)}),a.each(b,function(){this.pnotify_position()}))},pnotify:function(g){var h,i,j,k,m,n,o,p,q,r;"object"!=typeof g?(i=a.extend({},a.pnotify.defaults),i.text=g):i=a.extend({},a.pnotify.defaults,g);for(j in i)"string"==typeof j&&j.match(/^pnotify_/)&&(i[j.replace(/^pnotify_/,"")]=i[j]);return i.before_init&&i.before_init(i)===!1?null:(m=function(b,c){var d,e,f;o.css("display","none"),d=document.elementFromPoint(b.clientX,b.clientY),o.css("display","block"),e=a(d),f=e.css("cursor"),o.css("cursor","auto"!=f?f:"default"),k&&k.get(0)==d||(k&&(l.call(k.get(0),"mouseleave",b.originalEvent),l.call(k.get(0),"mouseout",b.originalEvent)),l.call(d,"mouseenter",b.originalEvent),l.call(d,"mouseover",b.originalEvent)),l.call(d,c,b.originalEvent),k=e},n=f[i.styling],o=a("<div />",{"class":"ui-pnotify "+i.addclass,css:{display:"none"},mouseenter:function(a){i.nonblock&&a.stopPropagation(),i.mouse_reset&&"out"==h&&(o.stop(!0),h="in",o.css("height","auto").animate({width:i.width,opacity:i.nonblock?i.nonblock_opacity:i.opacity},"fast")),i.nonblock&&o.stop().animate({opacity:i.nonblock_opacity},"fast"),i.hide&&i.mouse_reset&&o.pnotify_cancel_remove(),i.sticker&&!i.nonblock&&o.sticker.trigger("pnotify_icon").css("visibility","visible"),i.closer&&!i.nonblock&&o.closer.css("visibility","visible")},mouseleave:function(b){i.nonblock&&b.stopPropagation(),k=null,o.css("cursor","auto"),i.nonblock&&"out"!=h&&o.stop().animate({opacity:i.opacity},"fast"),i.hide&&i.mouse_reset&&o.pnotify_queue_remove(),i.sticker_hover&&o.sticker.css("visibility","hidden"),i.closer_hover&&o.closer.css("visibility","hidden"),a.pnotify_position_all()},mouseover:function(a){i.nonblock&&a.stopPropagation()},mouseout:function(a){i.nonblock&&a.stopPropagation()},mousemove:function(a){i.nonblock&&(a.stopPropagation(),m(a,"onmousemove"))},mousedown:function(a){i.nonblock&&(a.stopPropagation(),a.preventDefault(),m(a,"onmousedown"))},mouseup:function(a){i.nonblock&&(a.stopPropagation(),a.preventDefault(),m(a,"onmouseup"))},click:function(a){i.nonblock&&(a.stopPropagation(),m(a,"onclick"))},dblclick:function(a){i.nonblock&&(a.stopPropagation(),m(a,"ondblclick"))}}),o.opts=i,o.container=a("<div />",{"class":n.container+" ui-pnotify-container "+("error"==i.type?n.error:"info"==i.type?n.info:"success"==i.type?n.success:n.notice)}).appendTo(o),""!=i.cornerclass&&o.container.removeClass("ui-corner-all").addClass(i.cornerclass),i.shadow&&o.container.addClass("ui-pnotify-shadow"),o.pnotify_version="1.2.2",o.pnotify=function(b){var d,c=i;"string"==typeof b?i.text=b:i=a.extend({},i,b);for(d in i)"string"==typeof d&&d.match(/^pnotify_/)&&(i[d.replace(/^pnotify_/,"")]=i[d]);return o.opts=i,i.cornerclass!=c.cornerclass&&o.container.removeClass("ui-corner-all").addClass(i.cornerclass),i.shadow!=c.shadow&&(i.shadow?o.container.addClass("ui-pnotify-shadow"):o.container.removeClass("ui-pnotify-shadow")),i.addclass===!1?o.removeClass(c.addclass):i.addclass!==c.addclass&&o.removeClass(c.addclass).addClass(i.addclass),i.title===!1?o.title_container.slideUp("fast"):i.title!==c.title&&(i.title_escape?o.title_container.text(i.title).slideDown(200):o.title_container.html(i.title).slideDown(200)),i.text===!1?o.text_container.slideUp("fast"):i.text!==c.text&&(i.text_escape?o.text_container.text(i.text).slideDown(200):o.text_container.html(i.insert_brs?String(i.text).replace(/\n/g,"<br />"):i.text).slideDown(200)),o.pnotify_history=i.history,o.pnotify_hide=i.hide,i.type!=c.type&&o.container.removeClass(n.error+" "+n.notice+" "+n.success+" "+n.info).addClass("error"==i.type?n.error:"info"==i.type?n.info:"success"==i.type?n.success:n.notice),(i.icon!==c.icon||i.icon===!0&&i.type!=c.type)&&(o.container.find("div.ui-pnotify-icon").remove(),i.icon!==!1&&a("<div />",{"class":"ui-pnotify-icon"}).append(a("<span />",{"class":i.icon===!0?"error"==i.type?n.error_icon:"info"==i.type?n.info_icon:"success"==i.type?n.success_icon:n.notice_icon:i.icon})).prependTo(o.container)),i.width!==c.width&&o.animate({width:i.width}),i.min_height!==c.min_height&&o.container.animate({minHeight:i.min_height}),i.opacity!==c.opacity&&o.fadeTo(i.animate_speed,i.opacity),!i.closer||i.nonblock?o.closer.css("display","none"):o.closer.css("display","block"),!i.sticker||i.nonblock?o.sticker.css("display","none"):o.sticker.css("display","block"),o.sticker.trigger("pnotify_icon"),i.sticker_hover?o.sticker.css("visibility","hidden"):i.nonblock||o.sticker.css("visibility","visible"),i.closer_hover?o.closer.css("visibility","hidden"):i.nonblock||o.closer.css("visibility","visible"),i.hide?c.hide||o.pnotify_queue_remove():o.pnotify_cancel_remove(),o.pnotify_queue_position(),o},o.pnotify_position=function(a){var c,d,f,g,h,i,b=o.opts.stack;if(b&&(b.nextpos1||(b.nextpos1=b.firstpos1),b.nextpos2||(b.nextpos2=b.firstpos2),b.addpos2||(b.addpos2=0),c="none"==o.css("display"),!c||a)){switch(g={},b.dir1){case"down":h="top";break;case"up":h="bottom";break;case"left":h="right";break;case"right":h="left"}switch(d=parseInt(o.css(h)),isNaN(d)&&(d=0),"undefined"!=typeof b.firstpos1||c||(b.firstpos1=d,b.nextpos1=b.firstpos1),b.dir2){case"down":i="top";break;case"up":i="bottom";break;case"left":i="right";break;case"right":i="left"}if(f=parseInt(o.css(i)),isNaN(f)&&(f=0),"undefined"!=typeof b.firstpos2||c||(b.firstpos2=f,b.nextpos2=b.firstpos2),("down"==b.dir1&&b.nextpos1+o.height()>e.height()||"up"==b.dir1&&b.nextpos1+o.height()>e.height()||"left"==b.dir1&&b.nextpos1+o.width()>e.width()||"right"==b.dir1&&b.nextpos1+o.width()>e.width())&&(b.nextpos1=b.firstpos1,b.nextpos2+=b.addpos2+("undefined"==typeof b.spacing2?25:b.spacing2),b.addpos2=0),b.animation&&b.nextpos2<f)switch(b.dir2){case"down":g.top=b.nextpos2+"px";break;case"up":g.bottom=b.nextpos2+"px";break;case"left":g.right=b.nextpos2+"px";break;case"right":g.left=b.nextpos2+"px"}else b.nextpos2&&o.css(i,b.nextpos2+"px");switch(b.dir2){case"down":case"up":o.outerHeight(!0)>b.addpos2&&(b.addpos2=o.height());break;case"left":case"right":o.outerWidth(!0)>b.addpos2&&(b.addpos2=o.width())}if(b.nextpos1)if(b.animation&&(d>b.nextpos1||g.top||g.bottom||g.right||g.left))switch(b.dir1){case"down":g.top=b.nextpos1+"px";break;case"up":g.bottom=b.nextpos1+"px";break;case"left":g.right=b.nextpos1+"px";break;case"right":g.left=b.nextpos1+"px"}else o.css(h,b.nextpos1+"px");switch((g.top||g.bottom||g.right||g.left)&&o.animate(g,{duration:this.opts.position_animate_speed,queue:!1}),b.dir1){case"down":case"up":b.nextpos1+=o.height()+("undefined"==typeof b.spacing1?25:b.spacing1);break;case"left":case"right":b.nextpos1+=o.width()+("undefined"==typeof b.spacing1?25:b.spacing1)}}},o.pnotify_queue_position=function(b){c&&clearTimeout(c),b||(b=10),c=setTimeout(a.pnotify_position_all,b)},o.pnotify_display=function(){p=e.data("pnotify"),p&&p.length>i.maxonscreen&&a.each(p.slice(0,p.length-i.maxonscreen),function(){this.pnotify_remove&&this.pnotify_remove()}),o.parent().length||o.appendTo(d),i.before_open&&i.before_open(o)===!1||("top"!=i.stack.push&&o.pnotify_position(!0),"fade"==i.animation||"fade"==i.animation.effect_in?o.show().fadeTo(0,0).hide():1!=i.opacity&&o.show().fadeTo(0,i.opacity).hide(),o.animate_in(function(){i.after_open&&i.after_open(o),o.pnotify_queue_position(),i.hide&&o.pnotify_queue_remove()}))},o.pnotify_remove=function(){o.timer&&(window.clearTimeout(o.timer),o.timer=null),i.before_close&&i.before_close(o)===!1||o.animate_out(function(){i.after_close&&i.after_close(o)===!1||(o.pnotify_queue_position(),i.remove&&o.detach())})},o.animate_in=function(a){h="in";var b;b="undefined"!=typeof i.animation.effect_in?i.animation.effect_in:i.animation,"none"==b?(o.show(),a()):"show"==b?o.show(i.animate_speed,a):"fade"==b?o.show().fadeTo(i.animate_speed,i.opacity,a):"slide"==b?o.slideDown(i.animate_speed,a):"function"==typeof b?b("in",a,o):o.show(b,"object"==typeof i.animation.options_in?i.animation.options_in:{},i.animate_speed,a)},o.animate_out=function(a){h="out";var b;b="undefined"!=typeof i.animation.effect_out?i.animation.effect_out:i.animation,"none"==b?(o.hide(),a()):"show"==b?o.hide(i.animate_speed,a):"fade"==b?o.fadeOut(i.animate_speed,a):"slide"==b?o.slideUp(i.animate_speed,a):"function"==typeof b?b("out",a,o):o.hide(b,"object"==typeof i.animation.options_out?i.animation.options_out:{},i.animate_speed,a)},o.pnotify_cancel_remove=function(){o.timer&&window.clearTimeout(o.timer)},o.pnotify_queue_remove=function(){o.pnotify_cancel_remove(),o.timer=window.setTimeout(function(){o.pnotify_remove()},isNaN(i.delay)?0:i.delay)},o.closer=a("<div />",{"class":"ui-pnotify-closer",css:{cursor:"pointer",visibility:i.closer_hover?"hidden":"visible"},click:function(){o.pnotify_remove(),o.sticker.css("visibility","hidden"),o.closer.css("visibility","hidden")}}).append(a("<span />",{"class":n.closer,title:i.labels.close})).appendTo(o.container),(!i.closer||i.nonblock)&&o.closer.css("display","none"),o.sticker=a("<div />",{"class":"ui-pnotify-sticker",css:{cursor:"pointer",visibility:i.sticker_hover?"hidden":"visible"},click:function(){i.hide=!i.hide,i.hide?o.pnotify_queue_remove():o.pnotify_cancel_remove(),a(this).trigger("pnotify_icon")}}).bind("pnotify_icon",function(){a(this).children().removeClass(n.pin_up+" "+n.pin_down).addClass(i.hide?n.pin_up:n.pin_down)}).append(a("<span />",{"class":n.pin_up,title:i.labels.stick})).appendTo(o.container),(!i.sticker||i.nonblock)&&o.sticker.css("display","none"),o.title_container=a("<i />",{"class":i.icon===!0?"error"==i.type?n.error_icon:"info"==i.type?n.info_icon:"success"==i.type?n.success_icon:n.notice_icon:i.icon}).appendTo(o.container),i.title===!1?o.title_container.hide():i.title_escape?o.title_container.text(i.title):o.title_container.html(i.title),o.text_container=a("<div />",{"class":"ui-pnotify-text"}).appendTo(o.container),i.text===!1?o.text_container.hide():i.text_escape?o.text_container.text(i.text):o.text_container.html(i.insert_brs?String(i.text).replace(/\n/g,"<br />"):i.text),"string"==typeof i.width&&o.css("width",i.width),"string"==typeof i.min_height&&o.container.css("min-height",i.min_height),o.pnotify_history=i.history,o.pnotify_hide=i.hide,p=e.data("pnotify"),(null==p||"object"!=typeof p)&&(p=[]),p="top"==i.stack.push?a.merge([o],p):a.merge(p,[o]),e.data("pnotify",p),"top"==i.stack.push&&o.pnotify_queue_position(1),i.after_init&&i.after_init(o),i.history&&(q=e.data("pnotify_history"),"undefined"==typeof q&&(q=a("<div />",{"class":"ui-pnotify-history-container "+n.hi_menu,mouseleave:function(){q.animate({top:"-"+b+"px"},{duration:100,queue:!1})}}).append(a("<div />",{"class":"ui-pnotify-history-header",text:i.labels.redisplay})).append(a("<button />",{"class":"ui-pnotify-history-all "+n.hi_btn,text:i.labels.all,mouseenter:function(){a(this).addClass(n.hi_btnhov)},mouseleave:function(){a(this).removeClass(n.hi_btnhov)},click:function(){return a.each(p,function(){this.pnotify_history&&(this.is(":visible")?this.pnotify_hide&&this.pnotify_queue_remove():this.pnotify_display&&this.pnotify_display())}),!1}})).append(a("<button />",{"class":"ui-pnotify-history-last "+n.hi_btn,text:i.labels.last,mouseenter:function(){a(this).addClass(n.hi_btnhov)},mouseleave:function(){a(this).removeClass(n.hi_btnhov)},click:function(){var b,a=-1;do{if(b=-1==a?p.slice(a):p.slice(a,a+1),!b[0])break;a--}while(!b[0].pnotify_history||b[0].is(":visible"));return b[0]?(b[0].pnotify_display&&b[0].pnotify_display(),!1):!1}})).appendTo(d),r=a("<span />",{"class":"ui-pnotify-history-pulldown "+n.hi_hnd,mouseenter:function(){q.animate({top:"0"},{duration:100,queue:!1})}}).appendTo(q),b=r.offset().top+2,q.css({top:"-"+b+"px"}),e.data("pnotify_history",q))),i.stack.animation=!1,i.auto_display&&o.pnotify_display(),o)}}),h=/^on/,i=/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/,j=/^(focus|blur|select|change|reset)$|^key(press|down|up)$/,k=/^(scroll|resize|(un)?load|abort|error)$/,l=function(b,c){var d;if(b=b.toLowerCase(),document.createEvent&&this.dispatchEvent){if(b=b.replace(h,""),b.match(i)?(a(this).offset(),d=document.createEvent("MouseEvents"),d.initMouseEvent(b,c.bubbles,c.cancelable,c.view,c.detail,c.screenX,c.screenY,c.clientX,c.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget)):b.match(j)?(d=document.createEvent("UIEvents"),d.initUIEvent(b,c.bubbles,c.cancelable,c.view,c.detail)):b.match(k)&&(d=document.createEvent("HTMLEvents"),d.initEvent(b,c.bubbles,c.cancelable)),!d)return;this.dispatchEvent(d)}else b.match(h)||(b="on"+b),d=document.createEventObject(c),this.fireEvent(b,d)},a.pnotify.defaults={title:!1,title_escape:!1,text:!1,text_escape:!1,styling:"bootstrap",addclass:"",cornerclass:"",nonblock:!1,nonblock_opacity:.2,history:!0,maxonscreen:1/0,auto_display:!0,width:"300px",min_height:"16px",type:"notice",icon:!0,animation:"fade",animate_speed:"slow",position_animate_speed:500,opacity:1,shadow:!0,closer:!0,closer_hover:!0,sticker:!0,sticker_hover:!0,hide:!0,delay:8e3,mouse_reset:!0,remove:!0,insert_brs:!0,stack:{dir1:"down",dir2:"left",push:"bottom",spacing1:25,spacing2:25},labels:{redisplay:"Redisplay",all:"All",last:"Last",close:"Close",stick:"Stick"}}}(jQuery);